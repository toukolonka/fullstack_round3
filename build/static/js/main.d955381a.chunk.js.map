{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","value","checkName","onChange","checkChange","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Person","name","number","handleDelete","onClick","baseUrl","personService","getAll","axios","get","then","response","data","create","newObject","post","deleteObject","id","delete","update","put","Notification","message","error","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","App","useState","persons","setPersons","setNewName","setCheckName","setNewNumber","setMessage","errBit","setErrBit","useEffect","initialPersons","personsToShow","filter","person","toLowerCase","includes","event","target","preventDefault","some","find","p","window","confirm","changedPerson","returnedPerson","map","setTimeout","catch","n","personObject","concat","deletePerson","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d955381a.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = (props) => {\r\n  return (\r\n    <div>\r\n      Filter shown with\r\n      <input value={props.checkName} onChange={props.checkChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.addPerson}>\r\n      <div>\r\n        name:\r\n        <input value={props.newName} onChange={props.handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number:\r\n        <input value={props.newNumber} onChange={props.handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Person = ({ name, number, handleDelete }) => {\r\n  return (\r\n    <li>\r\n      {name} {number}\r\n      <button onClick={handleDelete}>delete</button>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"https://puhelinluettelo-backend-touko.herokuapp.com/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst deleteObject = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst personService = {\r\n  getAll,\r\n  create,\r\n  deleteObject,\r\n  update,\r\n};\r\n\r\nexport default personService;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message, error }) => {\r\n\r\n    let notificationStyle = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: '5',\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    if (message === null) {\r\n      return null\r\n    }\r\n\r\n    if (error === 1) {\r\n        notificationStyle = {...notificationStyle, color: 'red'}\r\n    }\r\n  \r\n    return (\r\n      <div style={notificationStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n \r\nexport default Notification;","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Person from \"./components/Person\";\nimport personService from \"./services/persons\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [checkName, setCheckName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  const [errBit, setErrBit] = useState(0);\n\n  useEffect(() => {\n    personService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    var checkPersons = (person) => person.name === newName;\n\n    if (persons.some(checkPersons)) {\n      const person = persons.find((p) => p.name === newName);\n\n      if (window.confirm(`Change ${person.name} number to ${newNumber}?`)) {\n        const changedPerson = { ...person, number: newNumber };\n\n        const id = person.id;\n\n        personService\n          .update(id, changedPerson)\n          .then((returnedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== id ? person : returnedPerson\n              )\n            );\n            setNewName(\"\");\n            setNewNumber(\"\");\n            setErrBit(0);\n            setMessage(\n              `Number of ${returnedPerson.name} changed`\n            )\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n          .catch((error) => {\n            setErrBit(1);\n            setMessage(\n              `Person '${person.name}' was already removed from server`\n            )\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n            setPersons(persons.filter((n) => n.id !== id));\n          });\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber,\n      };\n\n      personService.create(personObject).then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n        setNewName(\"\");\n        setNewNumber(\"\");\n        setErrBit(0);\n        setMessage(\n          `Added ${returnedPerson.name}`\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      });\n    }\n  };\n\n  const deletePerson = (person) => {\n    const name = person.name;\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService.deleteObject(person.id);\n      setPersons(persons.filter((p) => p.id !== person.id));\n      setErrBit(0);\n      setMessage(\n        `Deleted ${name}`\n      )\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n    }\n  };\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleCheckChange = (event) => {\n    setCheckName(event.target.value);\n  };\n\n  const personsToShow = persons.filter((person) =>\n    person.name.toLowerCase().includes(checkName.toLowerCase())\n  );\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} error={errBit} />\n      <Filter checkName={checkName} checkChange={handleCheckChange} />\n      <h2>Add a new</h2>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      {personsToShow.map((person) => (\n        <Person\n          key={person.name}\n          name={person.name}\n          number={person.number}\n          handleDelete={() => deletePerson(person)}\n        ></Person>\n      ))}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}